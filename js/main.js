(()=>{var h=Object.create;var $=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var D=e=>$(e,"__esModule",{value:!0});var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var C=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q(t))!A.call(e,o)&&(s||o!=="default")&&$(e,o,{get:()=>t[o],enumerable:!(r=g(t,o))||r.enumerable});return e},p=(e,t)=>C(D($(e!=null?h(R(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var d=_((Z,b)=>{var k={isValid:"bg-success",isSemiValid:"bg-warning",isInvalid:"is-invalid",letterInput:"letter-input",word:"word",wordDisabled:"word--disabled"};b.exports.CLASSES=k});var m=p(d());var u=p(d()),l={letterInput:`.${u.CLASSES.letterInput}`,letterInputInvalid:`.${u.CLASSES.letterInput}.${u.CLASSES.isInvalid}`,rows:"#rows",word:`.${u.CLASSES.word}`,wordDisabled:`.${u.CLASSES.wordDisabled}`};var I=p(d());function V(e){let{name:t,value:s,disabled:r}=e,o=`${I.CLASSES.letterInput} form-control form-control-lg text-center text-uppercase`;return`<input ${r?"disabled":""} class="${o}" type="text" maxlength="1" name="${t}" aria-label="${t}" ${s?`value=${s}`:""} required="required">`}function B(e){let t="";return e.forEach(s=>{let{name:r,value:o,disabled:n}=s;t+=`<div class="letter-wrapper">${V({name:r,value:o,disabled:n})}</div>`}),t}function v(e){let{initialValue:t}=e,s="";for(let r=0;r<6;r+=1){let o=[],n=!0;t[r]?.disabled===!1&&(n=!1);for(let i=0;i<5;i+=1){let f="";t[r]?.letters[i]&&(f=t[r].letters[i].letter),o.push({name:`${r}-${i}`,value:f,disabled:n})}s+=`<div data-row="${r}" class="word d-flex justify-content-center ${n?"word--disabled":""}">${B(o)}</div>`}return s}var c=p(d());function E(e){let t=document.querySelector(`${l.rows} ${l.word}[data-row="${e}"]`);t.classList.remove(c.CLASSES.wordDisabled),t.querySelectorAll(l.letterInput).forEach((r,o)=>{r.disabled=!1,o===0&&r.focus()})}function w(e){e.querySelectorAll(l.letterInput).forEach(s=>{s.disabled=!0}),e.classList.add(c.CLASSES.wordDisabled)}function L(e,t){let s=[];return t.split("").forEach((r,o)=>{let n=-1;e.indexOf(r)>-1&&(e[o]===r?n=2:n=1),s.push({letter:r,status:n})}),s}function x(e){e.forEach((t,s)=>{t.forEach((r,o)=>{let{status:n}=r,i=document.querySelector(`${l.letterInput}[name="${s}-${o}"]`);n===1&&i.classList.add(c.CLASSES.isSemiValid),n===2&&i.classList.add(c.CLASSES.isValid)})})}var a={},S={data:[{letters:[{letter:"",status:0},{letter:"",status:0},{letter:"",status:0},{letter:"",status:0},{letter:"",status:0}],disabled:!1}]},N="troll".split("");function j(){a.rows=document.getElementById("rows"),a.form=document.querySelector("form"),a.submitButton=document.getElementById("submit")}function y(){let e=document.getElementById("fireworks_wrapper");e.querySelector(".fireworks").classList.add("pyro"),setTimeout(()=>{e.querySelector(".fireworks").classList.remove("pyro")},1e4)}function z(e){let t=e.findIndex(s=>s.status<2)===-1;if(t){let s=document.querySelector(`${l.rows} ${l.word}:not(${l.wordDisabled})`);a.submitButton.disabled=!0,w(s),y()}return t}function H(e){e.preventDefault();let t="",s=document.querySelector(`${l.rows} ${l.word}:not(${l.wordDisabled})`);if(s.querySelectorAll(l.letterInputInvalid).length>0)return;s.querySelectorAll(l.letterInput).forEach(i=>{t+=i.value}),w(s),E(+s.dataset.row+1);let n=L(N,t);S.data[+s.dataset.row]=n,x(S.data),z(n)}function K(e){let{target:t}=e;if(t.classList.contains(m.CLASSES.letterInput)){let{value:s,name:r}=t,o=/[a-zA-Z]/g,n=s.match(o),i=+r.split("-")[1];if(i<4){let f=`${r.split("-")[0]}-${i+1}`;document.querySelector(`${l.letterInput}[name="${f}"]`).focus()}else i===4&&a.submitButton.focus();n?t.classList.remove(m.CLASSES.isInvalid):t.classList.add(m.CLASSES.isInvalid)}}function M(){a.form.addEventListener("submit",H),document.addEventListener("keyup",K)}function P(){j(),M(),a.rows.innerHTML=v({initialValue:S.data}),y()}P();})();
