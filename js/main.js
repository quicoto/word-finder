(()=>{var h=Object.create;var $=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var A=t=>$(t,"__esModule",{value:!0});var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _=(t,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of y(e))!R.call(t,r)&&(s||r!=="default")&&$(t,r,{get:()=>e[r],enumerable:!(o=x(e,r))||o.enumerable});return t},p=(t,e)=>_(A($(t!=null?h(q(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var c=D((W,b)=>{var C={isValid:"bg-success",isSemiValid:"bg-warning",isInvalid:"is-invalid",letterInput:"letter-input",word:"word",wordDisabled:"word--disabled"};b.exports.CLASSES=C});var w=p(c());var d=p(c()),l={letterInput:`.${d.CLASSES.letterInput}`,letterInputInvalid:`.${d.CLASSES.letterInput}.${d.CLASSES.isInvalid}`,rows:"#rows",word:`.${d.CLASSES.word}`,wordDisabled:`.${d.CLASSES.wordDisabled}`};var I=p(c());function k(t){let{name:e,value:s,disabled:o}=t,r=`${I.CLASSES.letterInput} form-control form-control-lg text-center text-uppercase`;return`<input ${o?"disabled":""} class="${r}" type="text" maxlength="1" name="${e}" aria-label="${e}" ${s?`value=${s}`:""} required="required">`}function T(t){let e="";return t.forEach(s=>{let{name:o,value:r,disabled:n}=s;e+=`<div class="letter-wrapper">${k({name:o,value:r,disabled:n})}</div>`}),e}function v(t){let{initialValue:e}=t,s="";for(let o=0;o<6;o+=1){let r=[],n=!0;e[o]?.disabled===!1&&(n=!1);for(let i=0;i<5;i+=1){let m="";e[o]?.letters[i]&&(m=e[o].letters[i].letter),r.push({name:`${o}-${i}`,value:m,disabled:n})}s+=`<div data-row="${o}" class="word d-flex justify-content-center ${n?"word--disabled":""}">${T(r)}</div>`}return s}var f=p(c());function E(t){let e=document.querySelector(`${l.rows} ${l.word}[data-row="${t}"]`);e.classList.remove(f.CLASSES.wordDisabled),e.querySelectorAll(l.letterInput).forEach((o,r)=>{o.disabled=!1,r===0&&o.focus()})}function S(t){t.querySelectorAll(l.letterInput).forEach(s=>{s.disabled=!0}),t.classList.add(f.CLASSES.wordDisabled)}function L(t,e){let s=[];return e.split("").forEach((o,r)=>{let n=-1;t.indexOf(o)>-1&&(t[r]===o?n=2:n=1),s.push({letter:o,status:n})}),s}function g(t){t.forEach((e,s)=>{e.forEach((o,r)=>{let{status:n}=o,i=document.querySelector(`${l.letterInput}[name="${s}-${r}"]`);n===1&&i.classList.add(f.CLASSES.isSemiValid),n===2&&i.classList.add(f.CLASSES.isValid)})})}var u={},a={database:[],language:"english",data:[{letters:[{letter:"",status:0},{letter:"",status:0},{letter:"",status:0},{letter:"",status:0},{letter:"",status:0}],disabled:!1}]};function j(){u.rows=document.getElementById("rows"),u.form=document.querySelector("form"),u.submitButton=document.getElementById("submit")}function O(){let t=document.getElementById("fireworks_wrapper");t.querySelector(".fireworks").classList.add("pyro"),setTimeout(()=>{t.querySelector(".fireworks").classList.remove("pyro")},1e4)}function M(t){let e=t.findIndex(s=>s.status<2)===-1;if(e){let s=document.querySelector(`${l.rows} ${l.word}:not(${l.wordDisabled})`);u.submitButton.disabled=!0,S(s),O()}return e}function N(t){t.preventDefault();let e="",s=document.querySelector(`${l.rows} ${l.word}:not(${l.wordDisabled})`);if(s.querySelectorAll(l.letterInputInvalid).length>0)return;s.querySelectorAll(l.letterInput).forEach(i=>{e+=i.value}),S(s),E(+s.dataset.row+1);let n=L(a.solution,e);a.data[+s.dataset.row]=n,g(a.data),M(n)}function z(t){let{target:e}=t;if(e.classList.contains(w.CLASSES.letterInput)){let{value:s,name:o}=e,r=/[a-zA-Z]/g,n=s.match(r),i=+o.split("-")[1];if(i<4){let m=`${o.split("-")[0]}-${i+1}`;document.querySelector(`${l.letterInput}[name="${m}"]`).focus()}else i===4&&u.submitButton.focus();n?e.classList.remove(w.CLASSES.isInvalid):e.classList.add(w.CLASSES.isInvalid)}}function H(){u.form.addEventListener("submit",N),document.addEventListener("keyup",z)}function K(){j(),H(),fetch(`./database/${a.language}.json?${new Date().getTime()}`).then(t=>t.json()).then(t=>{let e=Math.floor(Math.random()*(t.words.length+1));a.database=t.words,a.solution=t.words[e].split(""),console.log(a.solution),u.rows.innerHTML=v({initialValue:a.data})})}K();})();
